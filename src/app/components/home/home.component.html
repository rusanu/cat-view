<div class="container mt-4">
  <h1>Cat View - Monitor Foto</h1>

  <div class="card mt-4">
    <div class="card-header">
      <h5>Stare Conexiune S3</h5>
    </div>
    <div class="card-body">
      <div *ngIf="connectionStatus === 'testing'" class="alert alert-info">
        <div class="spinner-border spinner-border-sm me-2" role="status">
          <span class="visually-hidden">Se testează...</span>
        </div>
        Se testează conexiunea S3...
      </div>

      <div *ngIf="connectionStatus === 'success'" class="alert alert-success">
        <h6 class="alert-heading">✓ Conexiune Reușită!</h6>
        <p class="mb-0">Conectat la bucket-ul S3. S-au găsit {{ objectCount }} obiecte.</p>
        <hr *ngIf="sampleObjects.length > 0">
        <div *ngIf="sampleObjects.length > 0">
          <p class="mb-2"><strong>Fișiere exemplu:</strong></p>
          <ul class="mb-0">
            <li *ngFor="let obj of sampleObjects">{{ obj }}</li>
          </ul>
        </div>
      </div>

      <div *ngIf="connectionStatus === 'error'" class="alert alert-danger">
        <h6 class="alert-heading">✗ Conexiune Eșuată</h6>
        <p class="mb-2">{{ errorMessage }}</p>
        <hr>
        <p class="mb-2"><strong>Probleme comune:</strong></p>
        <ul>
          <li>Fișierul .env lipsește sau configurația este incorectă</li>
          <li>Credențiale AWS invalide</li>
          <li>Nume bucket sau regiune incorecte</li>
          <li>Este necesară configurarea CORS pentru acces din browser</li>
        </ul>
        <button class="btn btn-sm btn-danger" (click)="retryConnection()">Reîncearcă Conexiunea</button>
      </div>
    </div>
  </div>

  <div class="card mt-4">
    <div class="card-header">
      <h5>Instrucțiuni de Configurare</h5>
    </div>
    <div class="card-body">
      <ol>
        <li>Copiază <code>.env.example</code> în <code>.env</code></li>
        <li>Completează credențialele AWS S3 și informațiile despre bucket</li>
        <li>Configurează CORS pe bucket-ul S3 pentru a permite accesul din browser</li>
        <li>Repornește serverul de dezvoltare (<code>ng serve</code>)</li>
      </ol>
    </div>
  </div>
</div>
